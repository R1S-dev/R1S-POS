<!doctype html>
<html lang="sr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#111827" />
    <title>R1S-POS</title>

    <!-- PWA -->
    <link rel="manifest" href="/manifest.webmanifest" />
    <link rel="icon" href="/icons/icon-192.png" sizes="192x192" />
    <link rel="apple-touch-icon" href="/icons/maskable-192.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- Preloader style -->
    <style>
      .boot { position: fixed; inset: 0; display: grid; place-items: center; background: #0b0b0b; z-index: 9999; }
      .boot-inner { display:flex; flex-direction:column; align-items:center; gap:16px; }
      .boot img { width: 128px; height: 128px; object-fit: contain; }
      .boot .dot { width:8px; height:8px; border-radius:50%; background:#fff; opacity:.8; animation: b 1s infinite alternate; }
      .dot-wrap { display:flex; gap:8px; }
      .dot:nth-child(2){ animation-delay:.15s } .dot:nth-child(3){ animation-delay:.3s }
      @keyframes b { from{ transform: translateY(0); opacity:.4 } to{ transform: translateY(-6px); opacity:1 } }
      @media (prefers-color-scheme: light) { .boot { background:#ffffff } .boot .dot { background:#111 } }
    </style>
  </head>
  <body>
    <!-- Boot loader -->
    <div id="boot" class="boot">
      <div class="boot-inner">
        <img id="boot-logo" src="/logo-dark.png" alt="Caffe Club M" />
        <div class="dot-wrap"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
      </div>
    </div>

    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      // promena logotipa prema temi (pre React-a)
      const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;
      document.getElementById('boot-logo').src = prefersLight ? '/logo-light.png' : '/logo-dark.png';
    </script>
  </body>
</html>
